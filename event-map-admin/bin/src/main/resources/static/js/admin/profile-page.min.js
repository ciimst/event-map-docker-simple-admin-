var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var h=a[e];if(b.call(c,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var editUrl=contextPath+"admin/profile/permission/data",deleteUrl=contextPath+"admin/profile/delete",profileTableId="#profileTableId";function userDrawCallback(a){$("button.list-action-btn").each(function(a){var b=$(this);b.click(function(){var a=this;"edit"===b.data("btn-type")?openProfileEditModal(this):"delete"===b.data("btn-type")&&custombox.confirm("Profili silmek istedi\u011finize emin misiniz?",function(b){b&&deleteProfile(a)})})})}function userRowCallback(a,b,c){}
function getExtraParams(a){}var switchTemp='<div class="row"><span class="col-9">{1}</span><span class="col-3 m-switch m-switch--sm m-switch--primary"><label><input type="checkbox" {2} id="permission-{0}" name="permissionItemList[$].id" value="{0}"><span></span></label></span></div>',permGroupTemp='<div class="perm-group"><div class="group-title"><span>{0}</span></div>',buttonTemp='<button type="button" data-id="{0}" data-btn-type="{4}" class="btn btn-md m-btn--icon m-btn--icon-only m-btn--pill {1} list-action-btn" aria-label="{3}" title="{3}"><i class="la {2}"></i></button>';
function actionFormatter(a,b,c){b="";"undefined"!==typeof editUrl&&editUrl&&(b=buttonTemp.f(a,"btn-outline-primary","la-edit",lang.get("label.edit"),"edit"));"undefined"!==typeof deleteUrl&&deleteUrl&&(b+=buttonTemp.f(a,"btn-outline-dangery","la-trash",lang.get("label.delete"),"delete"));return b}var $profileEditModal=$("#profileEditModal"),$profileSaveBtn=$("#profileEditModal #profile-save-btn");
$profileSaveBtn.on("click",function(a){var b=$("#profileEditModal *").serializeArray(),c=0;$.each(b,function(a,b){-1!==b.name.indexOf("$")&&(b.name=b.name.replace("$",c++))});custombox.confirm("Kaydetmek istedi\u011finize emin misiniz?",function(a){a&&$.post(contextPath+"admin/profile/save",b).fail(function(a){a.state=!1;console.error(a);a.description=lang.get("label.unknown.error");a.redirectUrl=null}).always(function(a){a.state?($profileEditModal.modal("hide"),custombox.alertSuccess(a.description)):
custombox.alertError(a.description?a.description:lang.get("label.unknown.error"))})})});$("#profile-add-btn").on("click",function(){openProfileAddModal(this)});function openProfileAddModal(a){openProfileEditModal(a,!0)}
function openProfileEditModal(a,b){var c=$(a),d=c.data("id");d&&Number.isInteger(d)||b?$.post(editUrl,{profileId:d}).fail(function(a){a.state=!1;console.error(a);a.description=lang.get("label.unknown.error");a.redirectUrl=null}).always(function(b){if(b.state){var d=groupBy(b.data.permissionItemList,"groupName"),e="",g;for(g in d)if(d.hasOwnProperty(g)){e+=permGroupTemp.f(g);for(var k=$jscomp.makeIterator(d[g]),f=k.next();!f.done;f=k.next())f=f.value,e+=switchTemp.f(f.id,f.description,f.selected?"checked":
"");e+="</div>"}jQuery.data(a,"response-result",e);jQuery.data(a,"response-data",b.data);$profileEditModal.modal("show",c)}else custombox.alertError(b.description?b.description:lang.get("label.unknown.error"))}):(custombox.alertError("Bu kay\u0131t g\u00fcncellenemiyor. L\u00fctfen tekrar deneyiniz"),dataTableUtility.tableStandingRedraw(profileTableId))}
function deleteProfile(a){(a=$(a).data("id"))&&Number.isInteger(a)?$.post(deleteUrl,{profileId:a}).fail(function(a){a.state=!1;console.error(a);a.description=lang.get("label.unknown.error");a.redirectUrl=null}).always(function(a){a.state||custombox.alertError(a.description?a.description:lang.get("label.unknown.error"));dataTableUtility.tableStandingRedraw(profileTableId)}):(custombox.alertError("Bu kay\u0131t silinemiyor. L\u00fctfen tekrar deneyiniz"),dataTableUtility.tableStandingRedraw(profileTableId))}
$profileEditModal.on("show.bs.modal",function(a){var b=$(a.relatedTarget);b.data("id");var c=b.data("type");a=$(this);a.clearForm(!0);if("add"===c)c="Profil Ekleme";else{var d=jQuery.data(b[0],"response-data");c="Profil G\u00fcncelleme";a.find("input#id").val(d.id);a.find("input#name").val(d.name);a.find("input#description").val(d.description)}b=jQuery.data(b[0],"response-result");a.find(".perm-container").html(b);a.find(".modal-title").text(c)});
