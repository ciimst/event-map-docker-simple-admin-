var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
var editUrl=contextPath+"admin/map/event-type/edit/",deleteUrl=contextPath+"admin/map/event-type/delete",currentTableId="#eventTypeTableId",ADD_LINK=contextPath+"admin/map/event-type/add",SAVE_LINK=contextPath+"admin/map/event-type/save";
$(document).ready(function(){var a=$("#image");a.on("change paste keyup",function(a){(a=$(this).val())&&loadIcon(a)});(a=a.val())&&loadIcon(a);$("#save-button").on("click",function(){validate()&&custombox.confirm("Kaydetmek istedi\u011finize emin misiniz?",function(a){a&&saveEventType()})});$("form.event-type-form").find("#id").val()?$(".edit-page-title").html(lang.get("label.eventType.edit")):$(".edit-page-title").html(lang.get("label.eventType.add"))});
function validate(){return $("#name").val()?$("#image").val()?!0:(custombox.alertError("L\u00fctfen ikon alan\u0131n\u0131 bo\u015f b\u0131rakmay\u0131n\u0131z."),!1):(custombox.alertError("L\u00fctfen isim alan\u0131n\u0131 bo\u015f b\u0131rakmay\u0131n\u0131z."),!1)}
function saveEventType(){var a=$("form.event-type-form").serializeArray();$.post(SAVE_LINK,a).fail(function(a){a.state=!1;console.error(a);a.description=lang.get("label.unknown.error");a.redirectUrl=null}).always(function(a){a.state?custombox.alertSuccess(a.description,function(){a.redirectUrl&&(window.location.href=contextPath+a.redirectUrl)}):custombox.alertError(a.description?a.description:lang.get("label.unknown.error"))})}
function loadIcon(a){a=getSvgFromEventType(a);a='<img src="{0}" >'.f(a);$(".icon-preview").html(a)}function getSvgFromEventType(a){a=document.domFromString(a);a.setAttribute("fill","#000");a.setAttribute("stroke","#6d6f71");a.setAttribute("stroke-width","1");a=document.domToString(a);return"data:image/svg+xml;base64,"+btoa("<svg xmlns='http://www.w3.org/2000/svg' version='1.1'  viewBox='0 0 100 100'> "+a+"</svg>")};
